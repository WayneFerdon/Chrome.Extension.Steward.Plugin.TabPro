
module.exports = function (steward) {
    const version = 2;
    const author = 'solobat';
    const name = 'Chrome Flags';
    const type = 'search';
    const icon = steward.chrome.extension.getURL('iconfont/chrome.svg');
    const title = 'Chrome Flags';
    const subtitle = 'search and open chrome flags';

    const chromeFlags = ["#allow-all-sites-to-initiate-mirroring", "#allow-insecure-localhost", "#authenticate-using-new-windows-hello-api", "#autofill-enable-card-art-image", "#autofill-enable-card-benefits", "#autofill-enable-card-benefits-for-american-express", "#autofill-enable-card-benefits-for-capital-one", "#autofill-enable-card-benefits-sync", "#autofill-enable-card-product-name", "#autofill-enable-cvc-storage-and-filling", "#autofill-enable-fpan-risk-based-authentication", "#autofill-enable-manual-fallback-iph", "#autofill-enable-merchant-domain-in-unmask-card-request", "#autofill-enable-new-card-art-and-network-images", "#autofill-enable-payments-mandatory-reauth", "#autofill-enable-ranking-formula-address-profiles", "#autofill-enable-ranking-formula-credit-cards", "#autofill-enable-save-card-loading-and-confirmation", "#autofill-enable-save-card-local-save-fallback", "#autofill-enable-server-iban", "#autofill-enable-vcn-3ds-authentication", "#autofill-enable-vcn-enroll-loading-and-confirmation", "#autofill-enable-vcn-gray-out-for-merchant-opt-out", "#autofill-for-unclassified-fields-available", "#autofill-granular-filling-available", "#autofill-parse-vcn-card-on-file-standalone-cvc-fields", "#autofill-shared-storage-server-card-data", "#autofill-suggest-server-card-instead-of-local-card", "#autofill-undo", "#autofill-update-chrome-settings-link-to-gpay-web", "#automatic-fullscreen-content-setting", "#avif-gainmap-hdr-images", "#back-forward-cache", "#background-resource-fetch", "#block-insecure-private-network-requests", "#bounce-tracking-mitigations", "#boundary-event-dispatch-tracks-node-removal", "#butter-on-desktop-followup", "#calculate-native-win-occlusion", "#camera-mic-effects", "#camera-mic-preview", "#canvas-2d-layers", "#canvas-oop-rasterization", "#captured-surface-control", "#cast-mirroring-target-playout-delay", "#cast-streaming-hardware-h264", "#cast-streaming-hardware-vp8", "#cast-streaming-performance-overlay", "#CCO", "#cdm-storage-database", "#cdm-storage-database-migration", "#chrome-labs", "#chrome-refresh-2023", "#chrome-refresh-2023-ntb", "#chrome-refresh-2023-top-chrome-font", "#chrome-webui-refresh-2023", "#chrome-wide-echo-cancellation", "#clipboard-unsanitized-content", "#clipboard-well-formed-html-sanitization-write", "#compose-text-selection", "#content-settings-partitioning", "#cookie-settings-ui-alignment", "#create-shortcut-ignores-manifest", "#csc-companion-enable-page-content", "#css-gamut-mapping", "#customize-chrome-color-extraction", "#customize-chrome-side-panel", "#customize-chrome-side-panel-extensions-card", "#customize-chrome-wallpaper-search", "#customize-chrome-wallpaper-search-button", "#customize-chrome-wallpaper-search-inspiration-card", "#cws-info-fast-check", "#default-browser-prompt-refresh", "#deprecate-unload", "#device-posture", "#devtools-tab-target", "#disable-accelerated-2d-canvas", "#disable-accelerated-video-decode", "#disable-accelerated-video-encode", "#disable-javascript-harmony-shipping", "#disable-process-reuse", "#disallow-doc-written-script-loads", "#disruptive-notification-permission-revocation", "#download-warning-improvements", "#draw-immediately-when-interactive", "#drop-input-events-before-first-paint", "#early-document-swap-for-back-forward-transitions", "#edit-context", "#elastic-overscroll", "#element-capture", "#enable-accessibility-live-caption", "#enable-auto-disable-accessibility", "#enable-autofill-credit-card-upload", "#enable-benchmarking", "#enable-bound-session-credentials", "#enable-bound-session-credentials-software-keys-for-manual-testing", "#enable-cast-streaming-av1", "#enable-cast-streaming-vp8", "#enable-cast-streaming-vp9", "#enable-cast-streaming-with-hidpi", "#enable-commerce-developer", "#enable-compression-dictionary-transport", "#enable-compression-dictionary-transport-allow-http1", "#enable-compression-dictionary-transport-backend", "#enable-compression-dictionary-transport-require-known-root-cert", "#enable-compute-pressure-break-calibration-mitigation", "#enable-compute-pressure-rate-obfuscation-mitigation", "#enable-controlled-frame", "#enable-cros-touch-text-editing-redesign", "#enable-debug-for-secure-payment-confirmation", "#enable-debug-for-store-billing", "#enable-desktop-pwas-additional-windowing-controls", "#enable-desktop-pwas-app-title", "#enable-desktop-pwas-borderless", "#enable-desktop-pwas-elided-extensions-menu", "#enable-desktop-pwas-scope-extensions", "#enable-desktop-pwas-sub-apps", "#enable-desktop-pwas-tab-strip", "#enable-desktop-pwas-tab-strip-customizations", "#enable-desktop-pwas-tab-strip-settings", "#enable-direct-sockets-web-api", "#enable-drdc", "#enable-enterprise-profile-badging", "#enable-experimental-accessibility-language-detection", "#enable-experimental-accessibility-language-detection-dynamic", "#enable-experimental-cookie-features", "#enable-experimental-webassembly-features", "#enable-experimental-webassembly-jspi", "#enable-experimental-web-platform-features", "#enable-family-link-extensions-permissions", "#enable-fenced-frames", "#enable-fenced-frames-cross-origin-automatic-beacons", "#enable-fenced-frames-developer-mode", "#enable-fenced-frames-reporting-attestations-changes", "#enable-file-backed-blob-factory", "#enable-fingerprinting-protection-blocklist", "#enable-fontations-backend", "#enable-force-dark", "#enable-friendlier-safe-browsing-settings-enhanced-protection", "#enable-friendlier-safe-browsing-settings-standard-protection", "#enable-future-v8-vm-features", "#enable-gamepad-multitouch", "#enable-gamepad-trigger-rumble", "#enable-generic-sensor-extra-classes", "#enable-gpu-rasterization", "#enable-gpu-service-logging", "#enable-hardware-secure-decryption", "#enable-hardware-secure-decryption-experiment", "#enable-hardware-secure-decryption-fallback", "#enable-isolated-sandboxed-iframes", "#enable-isolated-web-app-dev-mode", "#enable-isolated-web-apps", "#enable-javascript-experimental-shared-memory", "#enable-javascript-harmony", "#enable-lens-region-search-static-page", "#enable-lens-standalone", "#enable-live-caption-multilang", "#enable-machine-learning-model-loader-web-platform-api", "#enable-manta-service", "#enable-media-foundation-clear", "#enable-media-foundation-clear-rendering-strategy", "#enable-media-foundation-video-capture", "#enable-network-logging-to-file", "#enable-new-base-url-inheritance-behavior", "#enable-oop-print-drivers", "#enable-parallel-downloading", "#enable-policy-test-page", "#enable-preferences-account-storage", "#enable-process-per-site-up-to-main-frame-threshold", "#enable-quic", "#enable-search-engine-choice", "#enable-shared-zstd", "#enable-show-autofill-signatures", "#enable-smart-card-web-api", "#enable-speculation-rules-prerendering-target-hint", "#enable-suspicious-site-detection-rt-lookups", "#enable-system-entropy", "#enable-tab-audio-muting", "#enable-tls13-early-data", "#enable-tls13-kyber", "#enable-touch-drag-drop", "#enable-unrestricted-usb", "#enable-unsafe-webgpu", "#enable-user-link-capturing-pwa", "#enable-vulkan", "#enable-web-app-system-media-controls-win", "#enable-webassembly-baseline", "#enable-webassembly-lazy-compilation", "#enable-webassembly-tiering", "#enable-web-bluetooth-confirm-pairing-support", "#enable-web-bluetooth-new-permissions-backend", "#enable-webgl-developer-extensions", "#enable-webgl-draft-extensions", "#enable-webgpu-developer-features", "#enable-web-payments-experimental-features", "#enable-webrtc-allow-input-volume-adjustment", "#enable-webrtc-apm-downmix-capture-audio-method", "#enable-webrtc-hide-local-ips-with-mdns", "#enable-webusb-device-detection", "#enable-windows-gaming-input-data-fetcher", "#enable-winrt-geolocation-implementation", "#enable-zero-copy", "#enable-zstd-content-encoding", "#esb-download-row-promo", "#explicit-browser-signin-ui-on-desktop", "#extensions-menu-access-control", "#extensions-on-chrome-urls", "#extract-related-searches-from-prefetched-zps-response", "#fedcm-authz", "#fedcm-auto-selected-flag", "#fedcm-button-mode", "#fedcm-disconnect", "#fedcm-domain-hint", "#fedcm-error", "#fedcm-exempt-idp-with-third-party-cookies", "#fedcm-idp-registration", "#fedcm-idp-signin-status-api", "#fedcm-metrics-endpoint", "#fedcm-multi-idp", "#fedcm-selective-disclosure", "#fedcm-skip-well-known-for-same-site", "#fedcm-use-other-account", "#fedcm-without-third-party-cookies", "#fedcm-without-well-known-enforcement", "#file-system-access-persistent-permission", "#file-system-access-persistent-permission-updated-page-info", "#file-system-observer", "#filling-across-grouped-sites", "#fill-on-account-select", "#fluent-overlay-scrollbars", "#fluent-scrollbars", "#force-color-profile", "#forced-colors", "#force-signin-flows-profile-picker", "#force-text-direction", "#force-ui-direction", "#fullscreen-popup-windows", "#get-user-media-deferred-device-settings-selection", "#global-media-controls-cast-start-stop", "#global-media-controls-updated-ui", "#happiness-tracking-surveys-for-desktop-demo", "#hardware-media-key-handling", "#hats-webui", "#heavy-ad-privacy-mitigations", "#hide-incognito-media-metadata", "#history-journeys", "#history-journeys-include-synced-visits", "#history-journeys-labels", "#history-journeys-show-all-clusters", "#history-journeys-zero-state-filtering", "#https-first-mode-for-typically-secure-users", "#https-first-mode-incognito", "#https-first-mode-v2-for-engaged-sites", "#ignore-gpu-blocklist", "#ignore-sync-encryption-keys-long-missing", "#improved-semantics-activity-indicators", "#indexed-db-default-durability-relaxed", "#in-product-help-demo-mode-choice", "#iph-extensions-menu-feature", "#iph-extensions-request-access-button-feature", "#ip-protection-proxy-opt-out", "#isolate-origins", "#keyboard-and-pointer-lock-prompt", "#launch-windows-native-hosts-directly", "#left-hand-side-activity-indicators", "#legacy-tech-report-enable-cookie-issue-reports", "#linked-services-setting", "#link-preview", "#local-pdp-detection", "#media-remoting-without-fullscreen", "#media-route-dial-provider", "#media-router-cast-allow-all-ips", "#media-session-enter-picture-in-picture", "#memlog", "#memlog-sampling-rate", "#memlog-stack-mode", "#memory-saver-multi-state-mode", "#minor-mode-restrictions-for-history-sync-opt-in", "#modal-memory-saver", "#mutation-events", "#new-confirmation-bubble-for-generated-passwords", "#ntp-alpha-background-collections", "#ntp-background-image-error-detection", "#ntp-drive-module", "#ntp-drive-module-segmentation", "#ntp-drive-module-show-six-files", "#ntp-journeys-module", "#ntp-journeys-module-model-ranking", "#ntp-journeys-module-suggestion-chip-header", "#ntp-journeys-module-text-only", "#ntp-modules-redesigned", "#ntp-realbox-contextual-and-trending-suggestions", "#ntp-realbox-cr23-all", "#ntp-realbox-cr23-consistent-row-height", "#ntp-realbox-cr23-expanded-state-icons", "#ntp-realbox-cr23-expanded-state-layout", "#ntp-realbox-cr23-hover-fill-shape", "#ntp-realbox-cr23-theming", "#ntp-realbox-is-tall", "#ntp-realbox-match-searchbox-theme", "#ntp-realbox-use-google-g-icon", "#ntp-realbox-width-behavior", "#ntp-tab-resumption-module", "#ntp-wallpaper-search-button", "#ntp-wallpaper-search-button-animation", "#observable-api", "#omit-cors-client-cert", "#omnibox-calc-provider", "#omnibox-company-entity-icon-adjustment", "#omnibox-cr23-expanded-state-colors", "#omnibox-cr23-expanded-state-suggest-icons", "#omnibox-cr23-steady-state-icons", "#omnibox-cr23-suggestion-hover-fill-shape", "#omnibox-drive-suggestions", "#omnibox-drive-suggestions-no-setting", "#omnibox-drive-suggestions-no-sync-requirement", "#omnibox-force-allowed-to-be-default", "#omnibox-gm3-steady-state-height", "#omnibox-gm3-steady-state-text-color", "#omnibox-gm3-steady-state-text-style", "#omnibox-grouping-framework-non-zps", "#omnibox-grouping-framework-zps", "#omnibox-limit-keyword-mode-suggestions", "#omnibox-local-history-zero-suggest-beyond-ntp", "#omnibox-ml-log-url-scoring-signals", "#omnibox-ml-url-score-caching", "#omnibox-ml-url-scoring", "#omnibox-ml-url-scoring-model", "#omnibox-ml-url-search-blending", "#omnibox-on-clobber-focus-type-on-content", "#omnibox-on-device-head-suggestions", "#omnibox-on-device-head-suggestions-incognito", "#omnibox-on-device-tail-suggestions", "#omnibox-pref-based-data-collection-consent-helper", "#omnibox-shortcut-boost", "#omnibox-starter-pack-expansion", "#omnibox-zero-suggest-in-memory-caching", "#omnibox-zero-suggest-prefetching", "#omnibox-zero-suggest-prefetching-on-srp", "#omnibox-zero-suggest-prefetching-on-web", "#one-time-permission", "#optimization-guide-debug-logs", "#optimization-guide-model-execution", "#optimization-guide-on-device-model", "#organic-repeatable-queries", "#origin-agent-cluster-default", "#origin-keyed-processes-by-default", "#overlay-scrollbars", "#overlay-strategies", "#page-content-annotations", "#page-content-annotations-persist-salient-image-metadata", "#page-content-annotations-remote-page-metadata", "#page-image-service-optimization-guide-salient-images", "#page-image-service-suggest-powered-images", "#page-visibility-page-content-annotations", "#parcel-tracking-test-data", "#password-generation-experiment", "#password-generation-strong-label-experiment", "#password-manual-fallback-available", "#password-parsing-on-save-uses-predictions", "#password-sharing", "#pdf-ocr", "#pdf-oopif", "#pdf-portfolio", "#pdf-use-skia-renderer", "#pdf-xfa-forms", "#policy-indication-for-managed-default-search", "#power-bookmark-backend", "#prerender2", "#press-and-hold-esc-to-exit-browser-fullscreen", "#price-tracking-icon-colors", "#print-with-postscript-type42-fonts", "#print-with-reduced-rasterization", "#privacy-sandbox-ads-apis", "#privacy-sandbox-ads-notice-ui", "#privacy-sandbox-enrollment-overrides", "#privacy-sandbox-internals", "#privacy-sandbox-proactive-topics-blocking", "#private-network-access-ignore-navigation-errors", "#private-network-access-ignore-worker-errors", "#private-network-access-permission-prompt", "#private-network-access-preflight-short-timeout", "#private-network-access-respect-preflight-results", "#product-specifications", "#profiles-reordering", "#protected-audience-debug-token", "#pwa-update-dialog-for-icon", "#pwm-shadow-dom-support", "#read-anything", "#read-anything-images-via-algorithm", "#read-anything-local-side-panel", "#read-anything-omnibox-icon", "#read-anything-read-aloud", "#read-anything-webui-toolbar", "#read-anything-with-algorithm", "#read-anything-with-screen2x", "#read-printer-capabilities-with-xps", "#record-web-app-debug-info", "#reduce-accept-language", "#reduce-transfer-size-updated-ipc", "#related-website-sets-permission-grants", "#remote-playback-backend", "#render-document", "#responsive-toolbar", "#run-video-capture-service-in-browser", "#safe-browsing-async-real-time-check", "#safe-browsing-hash-prefix", "#safety-check-extensions", "#safety-check-unused-site-permissions", "#safety-hub", "#sanitizer-api", "#scrollable-tabstrip", "#scrollable-tabstrip-overflow", "#scrollable-tabstrip-with-dragging", "#service-worker-static-router", "#settings-enable-get-the-most-out-of-chrome", "#sharing-desktop-screenshots", "#shopping-icon-color-variant", "#shortcuts-not-apps", "#show-autofill-type-predictions", "#show-overdraw-feedback", "#show-performance-metrics-hud", "#side-panel-pinning", "#site-instance-groups-for-data-urls", "#site-isolation-trial-opt-out", "#site-search-settings-policy", "#skia-graphite", "#smooth-scrolling", "#strict-origin-isolation", "#support-tool", "#support-tool-screenshot", "#sync-autofill-wallet-credential-data", "#sync-autofill-wallet-usage-data", "#sync-poll-immediately-on-every-startup", "#sync-session-on-visibility-changed", "#sync-webauthn-credentials", "#system-keyboard-lock", "#tab-groups-save", "#tab-hover-card-images", "#tab-scrolling-button-position", "#tear-off-web-app-tab-opens-web-app-window", "#temporary-unexpire-flags-m122", "#temporary-unexpire-flags-m123", "#test-third-party-cookie-phaseout", "#text-based-audio-descriptions", "#third-party-cookie-deprecation-trial", "#third-party-profile-management", "#third-party-storage-partitioning", "#tint-composited-content", "#top-chrome-touch-ui", "#top-level-third-party-cookie-deprecation-trial", "#tpcd-heuristics-grants", "#tpcd-metadata-grants", "#tpc-phase-out-facilitated-testing", "#tracking-protection-3pcd", "#tracking-protection-onboarding-rollback-flow", "#trusted-vault-frequent-degraded-recoverability-polling", "#ui-debug-tools", "#ui-disable-partial-swap", "#ui-enable-shared-image-cache-for-gpu", "#uno-desktop", "#unsafely-treat-insecure-origin-as-secure", "#use-angle", "#use-client-gmb-interface", "#use-dmsaa-for-tiles", "#use-gpu-scheduler-dfs", "#use-multi-plane-format-for-hardware-video", "#use-multi-plane-format-for-software-video", "#user-education-experience-v2", "#username-first-flow-store-several-values", "#username-first-flow-with-intermediate-values", "#username-first-flow-with-intermediate-values-predictions", "#username-first-flow-with-intermediate-values-voting", "#use-sync-sandbox", "#use-winrt-midi-api", "#use-xps-for-printing", "#use-xps-for-printing-from-pdf", "#viewport-segments", "#view-transition-on-navigation", "#wallet-service-use-sandbox", "#wallpaper-search-settings-visibility", "#web-app-separate-user-display-mode-for-cros", "#web-app-sync-generated-icon-background-fix", "#web-app-sync-generated-icon-retroactive-fix", "#web-app-sync-generated-icon-update-fix", "#web-app-sync-only-separate-user-display-mode-for-cros", "#web-app-universal-install", "#web-authentication-new-passkey-ui", "#web-authentication-permit-enterprise-attestation", "#web-hid-in-web-view", "#web-machine-learning-neural-network", "#web-midi", "#webrtc-allow-wgc-screen-capturer", "#webrtc-allow-wgc-window-capturer", "#web-share", "#webtransport-developer-mode", "#webui-omnibox-popup", "#webxr-hand-input", "#webxr-incubations", "#webxr-internals", "#webxr-runtime", "#windows11-mica-titlebar", "#windows-scrolling-personality", "#zero-copy-tab-capture", "#zero-copy-video-capture"];

    function onInput(text, command) {
        if (text.startsWith('#')) {
            const filterByName = suggestions => steward.util.getMatches(suggestions, text);
            const mapTo = key => item => {
                return {
                    icon,
                    key,
                    title: item,
                    desc: item,
                    universal: true,
                    url: `chrome://flags${item}`
                }
            };

            return Promise.resolve(filterByName(chromeFlags).map(mapTo('url')));
        } else {
            return;
        }
    }

    function onEnter(item, command, query, shiftKey, list) {

    }

    return {
        author,
        version,
        name,
        type,
        category: 'browser',
        icon,
        title,
        onInput,
        onEnter
    };
}